## Setting up Jenkins slave system

- Here we are basically setting up the basically integrating build server with Kubernetes cluster
- First we connect to the jenkins_slave system
  
1. We have to install aws-cli in the Jenkins_slave system
  - Make sure you have aws-cli version more than 2.XX else if you have 1.XX

```
sudo su -
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install --update
yum remove awscli                // To remove the aws-cli if the version is below 1.XX
```
- We have to configure aws-configure in slave system
```
 aws configure
 Provide access_key, secret_key

## You have to use the same key used to configure terraform 
```

2. Setting up Kubectl
- For the first command ```s3.us-west-2``` 
```
curl -O https://s3.us-west-2.amazonaws.com/amazon-eks/1.24.9/2023-01-11/bin/linux/amd64/kubectl
chmod +x ./kubectl
mv ./kubectl /usr/local/bin
kubectl version
```
- So once the cluster is created in Ec2 instance block you have 2 I/P's we use it earlier

3. Downloading the Kubernetes credentials and cluster configuration (.kube/config file) from the cluster
```
 aws eks update-kubeconfig --region us-east-1 --name valaxy-eks-01
```
